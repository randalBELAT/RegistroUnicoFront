import{e as ct,f as Dt,g as Wt,h as Kt,r as At,i as Al,a as jt,u as Nt,j as Bl,k as Bt,l as Ml,c as Tl}from"./QInput.a9e77e2a.js";import{y as we,aC as Qt,aD as Ut,c as S,ae as Ol,g as fe,h as w,U as Le,aG as zl,ak as Il,Z as ce,C as Ye,r as T,ap as dt,a1 as Pe,J as se,aa as Mt,w as J,o as Fl,E as xe,ad as Hl,H as ut,aH as Ne,a as Ll,X as Pl,aI as Rl,aJ as $l,aK as Dl,$ as Xt,a7 as Wl,a5 as ft,ac as Kl,a3 as at,aL as Gt,G as jl,W as Nl,d as Ql,a0 as Ul,aM as Fe,Y as Xl,aN as Gl,a6 as Ae,a4 as Yl,L as Yt,aE as Be}from"./index.6fc550ed.js";import{u as vt,a as mt}from"./use-dark.0bac1ebd.js";import{c as Jl,u as Jt,a as Zt,d as el,e as tl,f as Zl,g as en,n as Tt,h as tn,Q as ln}from"./use-timeout.20e2b68e.js";import{c as nn,g as on}from"./scroll.49da2c60.js";var un=we({name:"QField",inheritAttrs:!1,props:ct,emits:Dt,setup(){return Wt(Kt())}});const an={xs:8,sm:10,md:14,lg:20,xl:24};var rn=we({name:"QChip",props:{...vt,...Qt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:n,emit:l}){const{proxy:{$q:o}}=fe(),u=mt(e,o),i=Ut(e,an),a=S(()=>e.selected===!0||e.icon!==void 0),v=S(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),d=S(()=>e.iconRemove||o.iconSet.chip.remove),b=S(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=S(()=>{const E=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(E?` text-${E} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(u.value===!0?" q-chip--dark q-dark":"")}),x=S(()=>{const E=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},W={...E,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:E,remove:W}});function p(E){E.keyCode===13&&r(E)}function r(E){e.disable||(l("update:selected",!e.selected),l("click",E))}function A(E){(E.keyCode===void 0||E.keyCode===13)&&(ce(E),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function O(){const E=[];b.value===!0&&E.push(w("div",{class:"q-focus-helper"})),a.value===!0&&E.push(w(Le,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const W=e.label!==void 0?[w("div",{class:"ellipsis"},[e.label])]:void 0;return E.push(w("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},zl(n.default,W))),e.iconRight&&E.push(w(Le,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&E.push(w(Le,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:d.value,...x.value.remove,onClick:A,onKeyup:A})),E}return()=>{if(e.modelValue===!1)return;const E={class:s.value,style:i.value};return b.value===!0&&Object.assign(E,x.value.chip,{onClick:r,onKeyup:p}),Ol("div",E,O(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Il,e.ripple]])}}}),sn=we({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:n}){const l=S(()=>parseInt(e.lines,10)),o=S(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),u=S(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>w("div",{style:u.value,class:o.value},Ye(n.default))}});const cn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function dn({showing:e,avoidEmit:n,configureAnchorEl:l}){const{props:o,proxy:u,emit:i}=fe(),a=T(null);let v=null;function d(r){return a.value===null?!1:r===void 0||r.touches===void 0||r.touches.length<=1}const b={};l===void 0&&(Object.assign(b,{hide(r){u.hide(r)},toggle(r){u.toggle(r),r.qAnchorHandled=!0},toggleKey(r){dt(r,13)===!0&&b.toggle(r)},contextClick(r){u.hide(r),Pe(r),se(()=>{u.show(r),r.qAnchorHandled=!0})},prevent:Pe,mobileTouch(r){if(b.mobileCleanup(r),d(r)!==!0)return;u.hide(r),a.value.classList.add("non-selectable");const A=r.target;Mt(b,"anchor",[[A,"touchmove","mobileCleanup","passive"],[A,"touchend","mobileCleanup","passive"],[A,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),v=setTimeout(()=>{v=null,u.show(r),r.qAnchorHandled=!0},300)},mobileCleanup(r){a.value.classList.remove("non-selectable"),v!==null&&(clearTimeout(v),v=null),e.value===!0&&r!==void 0&&Jl()}}),l=function(r=o.contextMenu){if(o.noParentEvent===!0||a.value===null)return;let A;r===!0?u.$q.platform.is.mobile===!0?A=[[a.value,"touchstart","mobileTouch","passive"]]:A=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:A=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],Mt(b,"anchor",A)});function s(){Hl(b,"anchor")}function x(r){for(a.value=r;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;l()}function p(){if(o.target===!1||o.target===""||u.$el.parentNode===null)a.value=null;else if(o.target===!0)x(u.$el.parentNode);else{let r=o.target;if(typeof o.target=="string")try{r=document.querySelector(o.target)}catch{r=void 0}r!=null?(a.value=r.$el||r,l()):(a.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return J(()=>o.contextMenu,r=>{a.value!==null&&(s(),l(r))}),J(()=>o.target,()=>{a.value!==null&&s(),p()}),J(()=>o.noParentEvent,r=>{a.value!==null&&(r===!0?s():l())}),Fl(()=>{p(),n!==!0&&o.modelValue===!0&&a.value===null&&i("update:modelValue",!1)}),xe(()=>{v!==null&&clearTimeout(v),s()}),{anchorEl:a,canShow:d,anchorEvents:b}}function fn(e,n){const l=T(null);let o;function u(v,d){const b=`${d!==void 0?"add":"remove"}EventListener`,s=d!==void 0?d:o;v!==window&&v[b]("scroll",s,ut.passive),window[b]("scroll",s,ut.passive),o=d}function i(){l.value!==null&&(u(l.value),l.value=null)}const a=J(()=>e.noParentEvent,()=>{l.value!==null&&(i(),n())});return xe(a),{localScrollTarget:l,unconfigureScrollTarget:i,changeScrollEvent:u}}const Me=[];function Wn(e){return Me.find(n=>n.contentEl!==null&&n.contentEl.contains(e))}function ll(e,n){do{if(e.$options.name==="QMenu"){if(e.hide(n),e.$props.separateClosePopup===!0)return Ne(e)}else if(e.__qPortal===!0){const l=Ne(e);return l!==void 0&&l.$options.name==="QPopupProxy"?(e.hide(n),l):e}e=Ne(e)}while(e!=null)}function Kn(e,n,l){for(;l!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(l--,e.$options.name==="QMenu"){e=ll(e,n);continue}e.hide(n)}e=Ne(e)}}function vn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function nl(e,n,l,o){const u=T(!1),i=T(!1);let a=null;const v={},d=o==="dialog"&&vn(e);function b(x){if(x===!0){At(v),i.value=!0;return}i.value=!1,u.value===!1&&(d===!1&&a===null&&(a=$l(!1,o)),u.value=!0,Me.push(e.proxy),Al(v))}function s(x){if(i.value=!1,x!==!0)return;At(v),u.value=!1;const p=Me.indexOf(e.proxy);p!==-1&&Me.splice(p,1),a!==null&&(Dl(a),a=null)}return Ll(()=>{s(!0)}),e.proxy.__qPortal=!0,Pl(e.proxy,"contentEl",()=>n.value),{showPortal:b,hidePortal:s,portalIsActive:u,portalIsAccessible:i,renderPortal:()=>d===!0?l():u.value===!0?[w(Rl,{to:a},l())]:void 0}}const ol={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function il(e,n=()=>{},l=()=>{}){return{transitionProps:S(()=>{const o=`q-transition--${e.transitionShow||n()}`,u=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${u}-leave-from`,leaveActiveClass:`${u}-leave-active`,leaveToClass:`${u}-leave-to`}}),transitionStyle:S(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function ul(){let e;const n=fe();function l(){e=void 0}return Xt(l),xe(l),{removeTick:l,registerTick(o){e=o,se(()=>{e===o&&(Wl(n)===!1&&e(),e=void 0)})}}}const Se=[];let Oe;function mn(e){Oe=e.keyCode===27}function hn(){Oe===!0&&(Oe=!1)}function gn(e){Oe===!0&&(Oe=!1,dt(e,27)===!0&&Se[Se.length-1](e))}function al(e){window[e]("keydown",mn),window[e]("blur",hn),window[e]("keyup",gn),Oe=!1}function rl(e){ft.is.desktop===!0&&(Se.push(e),Se.length===1&&al("addEventListener"))}function Qe(e){const n=Se.indexOf(e);n>-1&&(Se.splice(n,1),Se.length===0&&al("removeEventListener"))}const be=[];function sl(e){be[be.length-1](e)}function cl(e){ft.is.desktop===!0&&(be.push(e),be.length===1&&document.body.addEventListener("focusin",sl))}function rt(e){const n=be.indexOf(e);n>-1&&(be.splice(n,1),be.length===0&&document.body.removeEventListener("focusin",sl))}const{notPassiveCapture:Ue}=ut,ye=[];function Xe(e){const n=e.target;if(n===void 0||n.nodeType===8||n.classList.contains("no-pointer-events")===!0)return;let l=Me.length-1;for(;l>=0;){const o=Me[l].$;if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;l--}for(let o=ye.length-1;o>=0;o--){const u=ye[o];if((u.anchorEl.value===null||u.anchorEl.value.contains(n)===!1)&&(n===document.body||u.innerRef.value!==null&&u.innerRef.value.contains(n)===!1))e.qClickOutside=!0,u.onClickOutside(e);else return}}function Sn(e){ye.push(e),ye.length===1&&(document.addEventListener("mousedown",Xe,Ue),document.addEventListener("touchstart",Xe,Ue))}function Ot(e){const n=ye.findIndex(l=>l===e);n>-1&&(ye.splice(n,1),ye.length===0&&(document.removeEventListener("mousedown",Xe,Ue),document.removeEventListener("touchstart",Xe,Ue)))}let zt,It;function Ft(e){const n=e.split(" ");return n.length!==2?!1:["top","center","bottom"].includes(n[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(n[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function bn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const st={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{st[`${e}#ltr`]=e,st[`${e}#rtl`]=e});function Ht(e,n){const l=e.split(" ");return{vertical:l[0],horizontal:st[`${l[1]}#${n===!0?"rtl":"ltr"}`]}}function yn(e,n){let{top:l,left:o,right:u,bottom:i,width:a,height:v}=e.getBoundingClientRect();return n!==void 0&&(l-=n[1],o-=n[0],i+=n[1],u+=n[0],a+=n[0],v+=n[1]),{top:l,bottom:i,height:v,left:o,right:u,width:a,middle:o+(u-o)/2,center:l+(i-l)/2}}function wn(e,n,l){let{top:o,left:u}=e.getBoundingClientRect();return o+=n.top,u+=n.left,l!==void 0&&(o+=l[1],u+=l[0]),{top:o,bottom:o+1,height:1,left:u,right:u+1,width:1,middle:u,center:o}}function xn(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Lt(e,n,l){return{top:e[l.anchorOrigin.vertical]-n[l.selfOrigin.vertical],left:e[l.anchorOrigin.horizontal]-n[l.selfOrigin.horizontal]}}function kn(e){if(ft.is.ios===!0&&window.visualViewport!==void 0){const v=document.body.style,{offsetLeft:d,offsetTop:b}=window.visualViewport;d!==zt&&(v.setProperty("--q-pe-left",d+"px"),zt=d),b!==It&&(v.setProperty("--q-pe-top",b+"px"),It=b)}const{scrollLeft:n,scrollTop:l}=e.el,o=e.absoluteOffset===void 0?yn(e.anchorEl,e.cover===!0?[0,0]:e.offset):wn(e.anchorEl,e.absoluteOffset,e.offset);let u={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(u.minWidth=o.width+"px",e.cover===!0&&(u.minHeight=o.height+"px")),Object.assign(e.el.style,u);const i=xn(e.el);let a=Lt(o,i,e);if(e.absoluteOffset===void 0||e.offset===void 0)ot(a,o,i,e.anchorOrigin,e.selfOrigin);else{const{top:v,left:d}=a;ot(a,o,i,e.anchorOrigin,e.selfOrigin);let b=!1;if(a.top!==v){b=!0;const s=2*e.offset[1];o.center=o.top-=s,o.bottom-=s+2}if(a.left!==d){b=!0;const s=2*e.offset[0];o.middle=o.left-=s,o.right-=s+2}b===!0&&(a=Lt(o,i,e),ot(a,o,i,e.anchorOrigin,e.selfOrigin))}u={top:a.top+"px",left:a.left+"px"},a.maxHeight!==void 0&&(u.maxHeight=a.maxHeight+"px",o.height>a.maxHeight&&(u.minHeight=u.maxHeight)),a.maxWidth!==void 0&&(u.maxWidth=a.maxWidth+"px",o.width>a.maxWidth&&(u.minWidth=u.maxWidth)),Object.assign(e.el.style,u),e.el.scrollTop!==l&&(e.el.scrollTop=l),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function ot(e,n,l,o,u){const i=l.bottom,a=l.right,v=nn(),d=window.innerHeight-v,b=document.body.clientWidth;if(e.top<0||e.top+i>d)if(u.vertical==="center")e.top=n[o.vertical]>d/2?Math.max(0,d-i):0,e.maxHeight=Math.min(i,d);else if(n[o.vertical]>d/2){const s=Math.min(d,o.vertical==="center"?n.center:o.vertical===u.vertical?n.bottom:n.top);e.maxHeight=Math.min(i,s),e.top=Math.max(0,s-i)}else e.top=Math.max(0,o.vertical==="center"?n.center:o.vertical===u.vertical?n.top:n.bottom),e.maxHeight=Math.min(i,d-e.top);if(e.left<0||e.left+a>b)if(e.maxWidth=Math.min(a,b),u.horizontal==="middle")e.left=n[o.horizontal]>b/2?Math.max(0,b-a):0;else if(n[o.horizontal]>b/2){const s=Math.min(b,o.horizontal==="middle"?n.middle:o.horizontal===u.horizontal?n.right:n.left);e.maxWidth=Math.min(a,s),e.left=Math.max(0,s-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?n.middle:o.horizontal===u.horizontal?n.left:n.right),e.maxWidth=Math.min(a,b-e.left)}var Cn=we({name:"QMenu",inheritAttrs:!1,props:{...cn,...Jt,...vt,...ol,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ft},self:{type:String,validator:Ft},offset:{type:Array,validator:bn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Zt,"click","escapeKey"],setup(e,{slots:n,emit:l,attrs:o}){let u=null,i,a,v;const d=fe(),{proxy:b}=d,{$q:s}=b,x=T(null),p=T(!1),r=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),A=mt(e,s),{registerTick:O,removeTick:E}=ul(),{registerTimeout:W}=el(),{transitionProps:L,transitionStyle:N}=il(e),{localScrollTarget:I,changeScrollEvent:F,unconfigureScrollTarget:U}=fn(e,V),{anchorEl:P,canShow:le}=dn({showing:p}),{hide:ne}=tl({showing:p,canShow:le,handleShow:h,handleHide:m,hideOnRouteChange:r,processOnMount:!0}),{showPortal:G,hidePortal:D,renderPortal:B}=nl(d,x,R,"menu"),K={anchorEl:P,innerRef:x,onClickOutside(c){if(e.persistent!==!0&&p.value===!0)return ne(c),(c.type==="touchstart"||c.target.classList.contains("q-dialog__backdrop"))&&ce(c),!0}},Z=S(()=>Ht(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),ie=S(()=>e.cover===!0?Z.value:Ht(e.self||"top start",s.lang.rtl)),Q=S(()=>(e.square===!0?" q-menu--square":"")+(A.value===!0?" q-menu--dark q-dark":"")),ae=S(()=>e.autoClose===!0?{onClick:z}:{}),oe=S(()=>p.value===!0&&e.persistent!==!0);J(oe,c=>{c===!0?(rl(y),Sn(K)):(Qe(y),Ot(K))});function ee(){jt(()=>{let c=x.value;c&&c.contains(document.activeElement)!==!0&&(c=c.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||c.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||c.querySelector("[autofocus], [data-autofocus]")||c,c.focus({preventScroll:!0}))})}function h(c){if(u=e.noRefocus===!1?document.activeElement:null,cl(C),G(),V(),i=void 0,c!==void 0&&(e.touchPosition||e.contextMenu)){const j=Kl(c);if(j.left!==void 0){const{top:de,left:ve}=P.value.getBoundingClientRect();i={left:j.left-ve,top:j.top-de}}}a===void 0&&(a=J(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,q)),e.noFocus!==!0&&document.activeElement.blur(),O(()=>{q(),e.noFocus!==!0&&ee()}),W(()=>{s.platform.is.ios===!0&&(v=e.autoClose,x.value.click()),q(),G(!0),l("show",c)},e.transitionDuration)}function m(c){E(),D(),k(!0),u!==null&&(c===void 0||c.qClickOutside!==!0)&&(((c&&c.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),W(()=>{D(!0),l("hide",c)},e.transitionDuration)}function k(c){i=void 0,a!==void 0&&(a(),a=void 0),(c===!0||p.value===!0)&&(rt(C),U(),Ot(K),Qe(y)),c!==!0&&(u=null)}function V(){(P.value!==null||e.scrollTarget!==void 0)&&(I.value=on(P.value,e.scrollTarget),F(I.value,q))}function z(c){v!==!0?(ll(b,c),l("click",c)):v=!1}function C(c){oe.value===!0&&e.noFocus!==!0&&Gt(x.value,c.target)!==!0&&ee()}function y(c){l("escapeKey"),ne(c)}function q(){const c=x.value;c===null||P.value===null||kn({el:c,offset:e.offset,anchorEl:P.value,anchorOrigin:Z.value,selfOrigin:ie.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function R(){return w(at,L.value,()=>p.value===!0?w("div",{role:"menu",...o,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+Q.value,o.class],style:[o.style,N.value],...ae.value},Ye(n.default)):null)}return xe(k),Object.assign(b,{focus:ee,updatePosition:q}),B}});let je=0;const qn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Pt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Vn=we({name:"QDialog",inheritAttrs:!1,props:{...Jt,...ol,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Zt,"shake","click","escapeKey"],setup(e,{slots:n,emit:l,attrs:o}){const u=fe(),i=T(null),a=T(!1),v=T(!1);let d=null,b=null,s,x;const p=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:r}=en(),{registerTimeout:A}=el(),{registerTick:O,removeTick:E}=ul(),{transitionProps:W,transitionStyle:L}=il(e,()=>Pt[e.position][0],()=>Pt[e.position][1]),{showPortal:N,hidePortal:I,portalIsAccessible:F,renderPortal:U}=nl(u,i,z,"dialog"),{hide:P}=tl({showing:a,hideOnRouteChange:p,handleShow:Z,handleHide:ie,processOnMount:!0}),{addToHistory:le,removeFromHistory:ne}=Zl(a,P,p),G=S(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${qn[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),D=S(()=>a.value===!0&&e.seamless!==!0),B=S(()=>e.autoClose===!0?{onClick:m}:{}),K=S(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${D.value===!0?"modal":"seamless"}`,o.class]);J(()=>e.maximized,C=>{a.value===!0&&h(C)}),J(D,C=>{r(C),C===!0?(cl(V),rl(oe)):(rt(V),Qe(oe))});function Z(C){le(),b=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,h(e.maximized),N(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),O(Q)):E(),A(()=>{if(u.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:y,bottom:q}=document.activeElement.getBoundingClientRect(),{innerHeight:R}=window,c=window.visualViewport!==void 0?window.visualViewport.height:R;y>0&&q>c/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-c,q>=R?1/0:Math.ceil(document.scrollingElement.scrollTop+q-c/2))),document.activeElement.scrollIntoView()}x=!0,i.value.click(),x=!1}N(!0),v.value=!1,l("show",C)},e.transitionDuration)}function ie(C){E(),ne(),ee(!0),v.value=!0,I(),b!==null&&(((C&&C.type.indexOf("key")===0?b.closest('[tabindex]:not([tabindex^="-"])'):void 0)||b).focus(),b=null),A(()=>{I(!0),v.value=!1,l("hide",C)},e.transitionDuration)}function Q(C){jt(()=>{let y=i.value;y===null||y.contains(document.activeElement)===!0||(y=(C!==""?y.querySelector(C):null)||y.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||y.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))})}function ae(C){C&&typeof C.focus=="function"?C.focus({preventScroll:!0}):Q(),l("shake");const y=i.value;y!==null&&(y.classList.remove("q-animate--scale"),y.classList.add("q-animate--scale"),d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,i.value!==null&&(y.classList.remove("q-animate--scale"),Q())},170))}function oe(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ae():(l("escapeKey"),P()))}function ee(C){d!==null&&(clearTimeout(d),d=null),(C===!0||a.value===!0)&&(h(!1),e.seamless!==!0&&(r(!1),rt(V),Qe(oe))),C!==!0&&(b=null)}function h(C){C===!0?s!==!0&&(je<1&&document.body.classList.add("q-body--dialog"),je++,s=!0):s===!0&&(je<2&&document.body.classList.remove("q-body--dialog"),je--,s=!1)}function m(C){x!==!0&&(P(C),l("click",C))}function k(C){e.persistent!==!0&&e.noBackdropDismiss!==!0?P(C):e.noShake!==!0&&ae()}function V(C){e.allowFocusOutside!==!0&&F.value===!0&&Gt(i.value,C.target)!==!0&&Q('[tabindex]:not([tabindex="-1"])')}Object.assign(u.proxy,{focus:Q,shake:ae,__updateRefocusTarget(C){b=C||null}}),xe(ee);function z(){return w("div",{role:"dialog","aria-modal":D.value===!0?"true":"false",...o,class:K.value},[w(at,{name:"q-transition--fade",appear:!0},()=>D.value===!0?w("div",{class:"q-dialog__backdrop fixed-full",style:L.value,"aria-hidden":"true",tabindex:-1,onClick:k}):null),w(at,W.value,()=>a.value===!0?w("div",{ref:i,class:G.value,style:L.value,tabindex:-1,...B.value},Ye(n.default)):null)])}return U}});let Ge=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const n=document.createElement("div");Object.assign(n.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(n),e.scrollLeft=-1e3,Ge=e.scrollLeft>=0,e.remove()}const ue=1e3,pn=["start","center","end","start-force","center-force","end-force"],dl=Array.prototype.filter,_n=window.getComputedStyle(document.body).overflowAnchor===void 0?jl:function(e,n){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];dl.call(l,u=>u.dataset&&u.dataset.qVsAnchor!==void 0).forEach(u=>{delete u.dataset.qVsAnchor});const o=l[n];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function Te(e,n){return e+n}function it(e,n,l,o,u,i,a,v){const d=e===window?document.scrollingElement||document.documentElement:e,b=u===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-a-v,scrollMaxSize:0,offsetStart:-a,offsetEnd:-v};if(u===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=d.scrollLeft,s.scrollViewSize+=d.clientWidth),s.scrollMaxSize=d.scrollWidth,i===!0&&(s.scrollStart=(Ge===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=d.scrollTop,s.scrollViewSize+=d.clientHeight),s.scrollMaxSize=d.scrollHeight),l!==null)for(let x=l.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=x[b]);if(o!==null)for(let x=o.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=x[b]);if(n!==e){const x=d.getBoundingClientRect(),p=n.getBoundingClientRect();u===!0?(s.offsetStart+=p.left-x.left,s.offsetEnd-=p.width):(s.offsetStart+=p.top-x.top,s.offsetEnd-=p.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function Rt(e,n,l,o){n==="end"&&(n=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(o===!0&&(n=(Ge===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):l===!0?(o===!0&&(n=(Ge===!0?e.scrollWidth-e.offsetWidth:0)-n),e.scrollLeft=n):e.scrollTop=n}function He(e,n,l,o){if(l>=o)return 0;const u=n.length,i=Math.floor(l/ue),a=Math.floor((o-1)/ue)+1;let v=e.slice(i,a).reduce(Te,0);return l%ue!==0&&(v-=n.slice(i*ue,l).reduce(Te,0)),o%ue!==0&&o!==u&&(v-=n.slice(o,a*ue).reduce(Te,0)),v}const fl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},jn=Object.keys(fl),En={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...fl};function An({virtualScrollLength:e,getVirtualScrollTarget:n,getVirtualScrollEl:l,virtualScrollItemSizeComputed:o}){const u=fe(),{props:i,emit:a,proxy:v}=u,{$q:d}=v;let b,s,x,p=[],r;const A=T(0),O=T(0),E=T({}),W=T(null),L=T(null),N=T(null),I=T({from:0,to:0}),F=S(()=>i.tableColspan!==void 0?i.tableColspan:100);o===void 0&&(o=S(()=>i.virtualScrollItemSize));const U=S(()=>o.value+";"+i.virtualScrollHorizontal),P=S(()=>U.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);J(P,()=>{Q()}),J(U,le);function le(){ie(s,!0)}function ne(m){ie(m===void 0?s:m)}function G(m,k){const V=n();if(V==null||V.nodeType===8)return;const z=it(V,l(),W.value,L.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);x!==z.scrollViewSize&&Q(z.scrollViewSize),B(V,z,Math.min(e.value-1,Math.max(0,parseInt(m,10)||0)),0,pn.indexOf(k)>-1?k:s>-1&&m>s?"end":"start")}function D(){const m=n();if(m==null||m.nodeType===8)return;const k=it(m,l(),W.value,L.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),V=e.value-1,z=k.scrollMaxSize-k.offsetStart-k.offsetEnd-O.value;if(b===k.scrollStart)return;if(k.scrollMaxSize<=0){B(m,k,0,0);return}x!==k.scrollViewSize&&Q(k.scrollViewSize),K(I.value.from);const C=Math.floor(k.scrollMaxSize-Math.max(k.scrollViewSize,k.offsetEnd)-Math.min(r[V],k.scrollViewSize/2));if(C>0&&Math.ceil(k.scrollStart)>=C){B(m,k,V,k.scrollMaxSize-k.offsetEnd-p.reduce(Te,0));return}let y=0,q=k.scrollStart-k.offsetStart,R=q;if(q<=z&&q+k.scrollViewSize>=A.value)q-=A.value,y=I.value.from,R=q;else for(let c=0;q>=p[c]&&y<V;c++)q-=p[c],y+=ue;for(;q>0&&y<V;)q-=r[y],q>-k.scrollViewSize?(y++,R=q):R=r[y]+q;B(m,k,y,R)}function B(m,k,V,z,C){const y=typeof C=="string"&&C.indexOf("-force")>-1,q=y===!0?C.replace("-force",""):C,R=q!==void 0?q:"start";let c=Math.max(0,V-E.value[R]),j=c+E.value.total;j>e.value&&(j=e.value,c=Math.max(0,j-E.value.total)),b=k.scrollStart;const de=c!==I.value.from||j!==I.value.to;if(de===!1&&q===void 0){oe(V);return}const{activeElement:ve}=document,re=N.value;de===!0&&re!==null&&re!==ve&&re.contains(ve)===!0&&(re.addEventListener("focusout",Z),setTimeout(()=>{re!==null&&re.removeEventListener("focusout",Z)})),_n(re,V-c);const Re=q!==void 0?r.slice(c,V).reduce(Te,0):0;if(de===!0){const me=j>=I.value.from&&c<=I.value.to?I.value.to:j;I.value={from:c,to:me},A.value=He(p,r,0,c),O.value=He(p,r,j,e.value),requestAnimationFrame(()=>{I.value.to!==j&&b===k.scrollStart&&(I.value={from:I.value.from,to:j},O.value=He(p,r,j,e.value))})}requestAnimationFrame(()=>{if(b!==k.scrollStart)return;de===!0&&K(c);const me=r.slice(c,V).reduce(Te,0),ke=me+k.offsetStart+A.value,$e=ke+r[V];let ze=ke+z;if(q!==void 0){const Je=me-Re,Y=k.scrollStart+Je;ze=y!==!0&&Y<ke&&$e<Y+k.scrollViewSize?Y:q==="end"?$e-k.scrollViewSize:ke-(q==="start"?0:Math.round((k.scrollViewSize-r[V])/2))}b=ze,Rt(m,ze,i.virtualScrollHorizontal,d.lang.rtl),oe(V)})}function K(m){const k=N.value;if(k){const V=dl.call(k.children,c=>c.classList&&c.classList.contains("q-virtual-scroll--skip")===!1),z=V.length,C=i.virtualScrollHorizontal===!0?c=>c.getBoundingClientRect().width:c=>c.offsetHeight;let y=m,q,R;for(let c=0;c<z;){for(q=C(V[c]),c++;c<z&&V[c].classList.contains("q-virtual-scroll--with-prev")===!0;)q+=C(V[c]),c++;R=q-r[y],R!==0&&(r[y]+=R,p[Math.floor(y/ue)]+=R),y++}}}function Z(){N.value!==null&&N.value!==void 0&&N.value.focus()}function ie(m,k){const V=1*o.value;(k===!0||Array.isArray(r)===!1)&&(r=[]);const z=r.length;r.length=e.value;for(let y=e.value-1;y>=z;y--)r[y]=V;const C=Math.floor((e.value-1)/ue);p=[];for(let y=0;y<=C;y++){let q=0;const R=Math.min((y+1)*ue,e.value);for(let c=y*ue;c<R;c++)q+=r[c];p.push(q)}s=-1,b=void 0,A.value=He(p,r,0,I.value.from),O.value=He(p,r,I.value.to,e.value),m>=0?(K(I.value.from),se(()=>{G(m)})):ee()}function Q(m){if(m===void 0&&typeof window!="undefined"){const q=n();q!=null&&q.nodeType!==8&&(m=it(q,l(),W.value,L.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}x=m;const k=parseFloat(i.virtualScrollSliceRatioBefore)||0,V=parseFloat(i.virtualScrollSliceRatioAfter)||0,z=1+k+V,C=m===void 0||m<=0?1:Math.ceil(m/o.value),y=Math.max(1,C,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/z));E.value={total:Math.ceil(y*z),start:Math.ceil(y*k),center:Math.ceil(y*(.5+k)),end:Math.ceil(y*(1+k)),view:C}}function ae(m,k){const V=i.virtualScrollHorizontal===!0?"width":"height",z={["--q-virtual-scroll-item-"+V]:o.value+"px"};return[m==="tbody"?w(m,{class:"q-virtual-scroll__padding",key:"before",ref:W},[w("tr",[w("td",{style:{[V]:`${A.value}px`,...z},colspan:F.value})])]):w(m,{class:"q-virtual-scroll__padding",key:"before",ref:W,style:{[V]:`${A.value}px`,...z}}),w(m,{class:"q-virtual-scroll__content",key:"content",ref:N,tabindex:-1},k.flat()),m==="tbody"?w(m,{class:"q-virtual-scroll__padding",key:"after",ref:L},[w("tr",[w("td",{style:{[V]:`${O.value}px`,...z},colspan:F.value})])]):w(m,{class:"q-virtual-scroll__padding",key:"after",ref:L,style:{[V]:`${O.value}px`,...z}})]}function oe(m){s!==m&&(i.onVirtualScroll!==void 0&&a("virtualScroll",{index:m,from:I.value.from,to:I.value.to-1,direction:m<s?"decrease":"increase",ref:v}),s=m)}Q();const ee=Nl(D,d.platform.is.ios===!0?120:35);Ql(()=>{Q()});let h=!1;return Xt(()=>{h=!0}),Ul(()=>{if(h!==!0)return;const m=n();b!==void 0&&m!==void 0&&m!==null&&m.nodeType!==8?Rt(m,b,i.virtualScrollHorizontal,d.lang.rtl):G(s)}),xe(()=>{ee.cancel()}),Object.assign(v,{scrollTo:G,reset:le,refresh:ne}),{virtualScrollSliceRange:I,virtualScrollSliceSizeComputed:E,setVirtualScrollSize:Q,onVirtualScrollEvt:ee,localResetVirtualScroll:ie,padVirtualScroll:ae,scrollTo:G,reset:le,refresh:ne}}const $t=e=>["add","add-unique","toggle"].includes(e),Bn=".*+?^${}()|[]\\",Mn=Object.keys(ct);var Nn=we({name:"QSelect",inheritAttrs:!1,props:{...En,...Nt,...ct,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:$t},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Dt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:n,emit:l}){const{proxy:o}=fe(),{$q:u}=o,i=T(!1),a=T(!1),v=T(-1),d=T(""),b=T(!1),s=T(!1);let x=null,p,r,A,O=null,E,W,L,N;const I=T(null),F=T(null),U=T(null),P=T(null),le=T(null),ne=Bl(e),G=Ml(qt),D=S(()=>Array.isArray(e.options)?e.options.length:0),B=S(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:K,virtualScrollSliceSizeComputed:Z,localResetVirtualScroll:ie,padVirtualScroll:Q,onVirtualScrollEvt:ae,scrollTo:oe,setVirtualScrollSize:ee}=An({virtualScrollLength:D,getVirtualScrollTarget:gl,getVirtualScrollEl:kt,virtualScrollItemSizeComputed:B}),h=Kt(),m=S(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,g=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const f=e.mapOptions===!0&&p!==void 0?p:[],_=g.map(H=>hl(H,f));return e.modelValue===null&&t===!0?_.filter(H=>H!==null):_}return g}),k=S(()=>{const t={};return Mn.forEach(g=>{const f=e[g];f!==void 0&&(t[g]=f)}),t}),V=S(()=>e.optionsDark===null?h.isDark.value:e.optionsDark),z=S(()=>Bt(m.value)),C=S(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||m.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),y=S(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),q=S(()=>D.value===0),R=S(()=>m.value.map(t=>te.value(t)).join(", ")),c=S(()=>e.displayValue!==void 0?e.displayValue:R.value),j=S(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),de=S(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||m.value.some(j.value))),ve=S(()=>h.focused.value===!0?e.tabindex:-1),re=S(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${h.targetUid.value}_lb`};return v.value>=0&&(t["aria-activedescendant"]=`${h.targetUid.value}_${v.value}`),t}),Re=S(()=>({id:`${h.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),me=S(()=>m.value.map((t,g)=>({index:g,opt:t,html:j.value(t),selected:!0,removeAtIndex:ml,toggleOption:he,tabindex:ve.value}))),ke=S(()=>{if(D.value===0)return[];const{from:t,to:g}=K.value;return e.options.slice(t,g).map((f,_)=>{const H=Ce.value(f)===!0,M=t+_,$={clickable:!0,active:!1,activeClass:Je.value,manualFocus:!0,focused:!1,disable:H,tabindex:-1,dense:e.optionsDense,dark:V.value,role:"option",id:`${h.targetUid.value}_${M}`,onClick:()=>{he(f)}};return H!==!0&&(tt(f)===!0&&($.active=!0),v.value===M&&($.focused=!0),$["aria-selected"]=$.active===!0?"true":"false",u.platform.is.desktop===!0&&($.onMousemove=()=>{i.value===!0&&qe(M)})),{index:M,opt:f,html:j.value(f),label:te.value(f),selected:$.active,focused:$.focused,toggleOption:he,setOptionIndex:qe,itemProps:$}})}),$e=S(()=>e.dropdownIcon!==void 0?e.dropdownIcon:u.iconSet.arrow.dropdown),ze=S(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Je=S(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Y=S(()=>et(e.optionValue,"value")),te=S(()=>et(e.optionLabel,"label")),Ce=S(()=>et(e.optionDisable,"disable")),De=S(()=>m.value.map(t=>Y.value(t))),vl=S(()=>{const t={onInput:qt,onChange:G,onKeydown:xt,onKeyup:yt,onKeypress:wt,onFocus:St,onClick(g){r===!0&&Ae(g)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=G,t});J(m,t=>{p=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&h.innerLoading.value!==!0&&(a.value!==!0&&i.value!==!0||z.value!==!0)&&(A!==!0&&Ee(),(a.value===!0||i.value===!0)&&Ve(""))},{immediate:!0}),J(()=>e.fillInput,Ee),J(i,lt),J(D,El);function ht(t){return e.emitValue===!0?Y.value(t):t}function Ze(t){if(t>-1&&t<m.value.length)if(e.multiple===!0){const g=e.modelValue.slice();l("remove",{index:t,value:g.splice(t,1)[0]}),l("update:modelValue",g)}else l("update:modelValue",null)}function ml(t){Ze(t),h.focus()}function gt(t,g){const f=ht(t);if(e.multiple!==!0){e.fillInput===!0&&Ie(te.value(t),!0,!0),l("update:modelValue",f);return}if(m.value.length===0){l("add",{index:0,value:f}),l("update:modelValue",e.multiple===!0?[f]:f);return}if(g===!0&&tt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const _=e.modelValue.slice();l("add",{index:_.length,value:f}),_.push(f),l("update:modelValue",_)}function he(t,g){if(h.editable.value!==!0||t===void 0||Ce.value(t)===!0)return;const f=Y.value(t);if(e.multiple!==!0){g!==!0&&(Ie(e.fillInput===!0?te.value(t):"",!0,!0),ge()),F.value!==null&&F.value.focus(),(m.value.length===0||Fe(Y.value(m.value[0]),f)!==!0)&&l("update:modelValue",e.emitValue===!0?f:t);return}if((r!==!0||b.value===!0)&&h.focus(),St(),m.value.length===0){const M=e.emitValue===!0?f:t;l("add",{index:0,value:M}),l("update:modelValue",e.multiple===!0?[M]:M);return}const _=e.modelValue.slice(),H=De.value.findIndex(M=>Fe(M,f));if(H>-1)l("remove",{index:H,value:_.splice(H,1)[0]});else{if(e.maxValues!==void 0&&_.length>=e.maxValues)return;const M=e.emitValue===!0?f:t;l("add",{index:_.length,value:M}),_.push(M)}l("update:modelValue",_)}function qe(t){if(u.platform.is.desktop!==!0)return;const g=t>-1&&t<D.value?t:-1;v.value!==g&&(v.value=g)}function We(t=1,g){if(i.value===!0){let f=v.value;do f=Tt(f+t,-1,D.value-1);while(f!==-1&&f!==v.value&&Ce.value(e.options[f])===!0);v.value!==f&&(qe(f),oe(f),g!==!0&&e.useInput===!0&&e.fillInput===!0&&Ke(f>=0?te.value(e.options[f]):E))}}function hl(t,g){const f=_=>Fe(Y.value(_),t);return e.options.find(f)||g.find(f)||t}function et(t,g){const f=t!==void 0?t:g;return typeof f=="function"?f:_=>_!==null&&typeof _=="object"&&f in _?_[f]:_}function tt(t){const g=Y.value(t);return De.value.find(f=>Fe(f,g))!==void 0}function St(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===R.value)&&F.value.select()}function bt(t){dt(t,27)===!0&&i.value===!0&&(Ae(t),ge(),Ee()),l("keyup",t)}function yt(t){const{value:g}=t.target;if(t.keyCode!==void 0){bt(t);return}if(t.target.value="",x!==null&&(clearTimeout(x),x=null),Ee(),typeof g=="string"&&g.length!==0){const f=g.toLocaleLowerCase(),_=M=>{const $=e.options.find(X=>M.value(X).toLocaleLowerCase()===f);return $===void 0?!1:(m.value.indexOf($)===-1?he($):ge(),!0)},H=M=>{_(Y)!==!0&&(_(te)===!0||M===!0||Ve(g,!0,()=>H(!0)))};H()}else h.clearValue(t)}function wt(t){l("keypress",t)}function xt(t){if(l("keydown",t),Yl(t)===!0)return;const g=d.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),f=t.shiftKey!==!0&&e.multiple!==!0&&(v.value>-1||g===!0);if(t.keyCode===27){Pe(t);return}if(t.keyCode===9&&f===!1){pe();return}if(t.target===void 0||t.target.id!==h.targetUid.value)return;if(t.keyCode===40&&h.innerLoading.value!==!0&&i.value===!1){ce(t),_e();return}if(t.keyCode===8&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ze(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(ce(t),v.value=-1,We(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Z.value!==void 0&&(ce(t),v.value=Math.max(-1,Math.min(D.value,v.value+(t.keyCode===33?-1:1)*Z.value.view)),We(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ce(t),We(t.keyCode===38?-1:1,e.multiple));const _=D.value;if((L===void 0||N<Date.now())&&(L=""),_>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||L.length!==0)){i.value!==!0&&_e(t);const H=t.key.toLocaleLowerCase(),M=L.length===1&&L[0]===H;N=Date.now()+1500,M===!1&&(ce(t),L+=H);const $=new RegExp("^"+L.split("").map(nt=>Bn.indexOf(nt)>-1?"\\"+nt:nt).join(".*"),"i");let X=v.value;if(M===!0||X<0||$.test(te.value(e.options[X]))!==!0)do X=Tt(X+1,-1,_-1);while(X!==v.value&&(Ce.value(e.options[X])===!0||$.test(te.value(e.options[X]))!==!0));v.value!==X&&se(()=>{qe(X),oe(X),X>=0&&e.useInput===!0&&e.fillInput===!0&&Ke(te.value(e.options[X]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||L!=="")&&(t.keyCode!==9||f===!1))){if(t.keyCode!==9&&ce(t),v.value>-1&&v.value<_){he(e.options[v.value]);return}if(g===!0){const H=(M,$)=>{if($){if($t($)!==!0)return}else $=e.newValueMode;if(M==null)return;Ie("",e.multiple!==!0,!0),($==="toggle"?he:gt)(M,$==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),ge())};if(e.onNewValue!==void 0?l("newValue",d.value,H):H(d.value),e.multiple!==!0)return}i.value===!0?pe():h.innerLoading.value!==!0&&_e()}}function kt(){return r===!0?le.value:U.value!==null&&U.value.contentEl!==null?U.value.contentEl:void 0}function gl(){return kt()}function Sl(){return e.hideSelected===!0?[]:n["selected-item"]!==void 0?me.value.map(t=>n["selected-item"](t)).slice():n.selected!==void 0?[].concat(n.selected()):e.useChips===!0?me.value.map((t,g)=>w(rn,{key:"option-"+g,removable:h.editable.value===!0&&Ce.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ve.value,onRemove(){t.removeAtIndex(g)}},()=>w("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:te.value(t.opt)}))):[w("span",{[de.value===!0?"innerHTML":"textContent"]:c.value})]}function Ct(){if(q.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:d.value}):void 0;const t=n.option!==void 0?n.option:f=>w(ln,{key:f.index,...f.itemProps},()=>w(tn,()=>w(sn,()=>w("span",{[f.html===!0?"innerHTML":"textContent"]:f.label}))));let g=Q("div",ke.value.map(t));return n["before-options"]!==void 0&&(g=n["before-options"]().concat(g)),Yt(n["after-options"],g)}function bl(t,g){const f=g===!0?{...re.value,...h.splitAttrs.attributes.value}:void 0,_={ref:g===!0?F:void 0,key:"i_t",class:C.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search",...f,id:g===!0?h.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...vl.value};return t!==!0&&r===!0&&(Array.isArray(_.class)===!0?_.class=[..._.class,"no-pointer-events"]:_.class+=" no-pointer-events"),w("input",_)}function qt(t){x!==null&&(clearTimeout(x),x=null),!(t&&t.target&&t.target.qComposing===!0)&&(Ke(t.target.value||""),A=!0,E=d.value,h.focused.value!==!0&&(r!==!0||b.value===!0)&&h.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{x=null,Ve(d.value)},e.inputDebounce)))}function Ke(t){d.value!==t&&(d.value=t,l("inputValue",t))}function Ie(t,g,f){A=f!==!0,e.useInput===!0&&(Ke(t),(g===!0||f!==!0)&&(E=t),g!==!0&&Ve(t))}function Ve(t,g,f){if(e.onFilter===void 0||g!==!0&&h.focused.value!==!0)return;h.innerLoading.value===!0?l("filterAbort"):(h.innerLoading.value=!0,s.value=!0),t!==""&&e.multiple!==!0&&m.value.length!==0&&A!==!0&&t===te.value(m.value[0])&&(t="");const _=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);O!==null&&clearTimeout(O),O=_,l("filter",t,(H,M)=>{(g===!0||h.focused.value===!0)&&O===_&&(clearTimeout(O),typeof H=="function"&&H(),s.value=!1,se(()=>{h.innerLoading.value=!1,h.editable.value===!0&&(g===!0?i.value===!0&&ge():i.value===!0?lt(!0):i.value=!0),typeof M=="function"&&se(()=>{M(o)}),typeof f=="function"&&se(()=>{f(o)})}))},()=>{h.focused.value===!0&&O===_&&(clearTimeout(O),h.innerLoading.value=!1,s.value=!1),i.value===!0&&(i.value=!1)})}function yl(){return w(Cn,{ref:U,class:y.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&q.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:V.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:ze.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Re.value,onScrollPassive:ae,onBeforeShow:pt,onBeforeHide:wl,onShow:xl},Ct)}function wl(t){_t(t),pe()}function xl(){ee()}function kl(t){Ae(t),F.value!==null&&F.value.focus(),b.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Cl(t){Ae(t),se(()=>{b.value=!1})}function ql(){const t=[w(un,{class:`col-auto ${h.fieldClass.value}`,...k.value,for:h.targetUid.value,dark:V.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:d.value.length!==0,...h.splitAttrs.listeners.value,onFocus:kl,onBlur:Cl},{...n,rawControl:()=>h.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(w("div",{ref:le,class:y.value+" scroll",style:e.popupContentStyle,...Re.value,onClick:Pe,onScrollPassive:ae},Ct())),w(Vn,{ref:P,modelValue:a.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:pt,onBeforeHide:Vl,onHide:pl,onShow:_l},()=>w("div",{class:"q-select__dialog"+(V.value===!0?" q-select__dialog--dark q-dark":"")+(b.value===!0?" q-select__dialog--focused":"")},t))}function Vl(t){_t(t),P.value!==null&&P.value.__updateRefocusTarget(h.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),h.focused.value=!1}function pl(t){ge(),h.focused.value===!1&&l("blur",t),Ee()}function _l(){const t=document.activeElement;(t===null||t.id!==h.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),ee()}function pe(){a.value!==!0&&(v.value=-1,i.value===!0&&(i.value=!1),h.focused.value===!1&&(O!==null&&(clearTimeout(O),O=null),h.innerLoading.value===!0&&(l("filterAbort"),h.innerLoading.value=!1,s.value=!1)))}function _e(t){h.editable.value===!0&&(r===!0?(h.onControlFocusin(t),a.value=!0,se(()=>{h.focus()})):h.focus(),e.onFilter!==void 0?Ve(d.value):(q.value!==!0||n["no-option"]!==void 0)&&(i.value=!0))}function ge(){a.value=!1,pe()}function Ee(){e.useInput===!0&&Ie(e.multiple!==!0&&e.fillInput===!0&&m.value.length!==0&&te.value(m.value[0])||"",!0,!0)}function lt(t){let g=-1;if(t===!0){if(m.value.length!==0){const f=Y.value(m.value[0]);g=e.options.findIndex(_=>Fe(Y.value(_),f))}ie(g)}qe(g)}function El(t,g){i.value===!0&&h.innerLoading.value===!1&&(ie(-1,!0),se(()=>{i.value===!0&&h.innerLoading.value===!1&&(t>g?ie():lt(!0))}))}function Vt(){a.value===!1&&U.value!==null&&U.value.updatePosition()}function pt(t){t!==void 0&&Ae(t),l("popupShow",t),h.hasPopupOpen=!0,h.onControlFocusin(t)}function _t(t){t!==void 0&&Ae(t),l("popupHide",t),h.hasPopupOpen=!1,h.onControlFocusout(t)}function Et(){r=u.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?n["no-option"]!==void 0||e.onFilter!==void 0||q.value===!1:!0),W=u.platform.is.ios===!0&&r===!0&&e.useInput===!0?"fade":e.transitionShow}return Xl(Et),Gl(Vt),Et(),xe(()=>{x!==null&&clearTimeout(x)}),Object.assign(o,{showPopup:_e,hidePopup:ge,removeAtIndex:Ze,add:gt,toggleOption:he,getOptionIndex:()=>v.value,setOptionIndex:qe,moveOptionSelection:We,filter:Ve,updateMenuPosition:Vt,updateInputValue:Ie,isOptionSelected:tt,getEmittingOptionValue:ht,isOptionDisabled:(...t)=>Ce.value.apply(null,t)===!0,getOptionValue:(...t)=>Y.value.apply(null,t),getOptionLabel:(...t)=>te.value.apply(null,t)}),Object.assign(h,{innerValue:m,fieldClass:S(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:I,targetRef:F,hasValue:z,showPopup:_e,floatingLabel:S(()=>e.hideSelected!==!0&&z.value===!0||typeof d.value=="number"||d.value.length!==0||Bt(e.displayValue)),getControlChild:()=>{if(h.editable.value!==!1&&(a.value===!0||q.value!==!0||n["no-option"]!==void 0))return r===!0?ql():yl();h.hasPopupOpen===!0&&(h.hasPopupOpen=!1)},controlEvents:{onFocusin(t){h.onControlFocusin(t)},onFocusout(t){h.onControlFocusout(t,()=>{Ee(),pe()})},onClick(t){if(Pe(t),r!==!0&&i.value===!0){pe(),F.value!==null&&F.value.focus();return}_e(t)}},getControl:t=>{const g=Sl(),f=t===!0||a.value!==!0||r!==!0;if(e.useInput===!0)g.push(bl(t,f));else if(h.editable.value===!0){const H=f===!0?re.value:void 0;g.push(w("input",{ref:f===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:f===!0?h.targetUid.value:void 0,value:c.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...H,onKeydown:xt,onKeyup:bt,onKeypress:wt})),f===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&g.push(w("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:yt}))}if(ne.value!==void 0&&e.disable!==!0&&De.value.length!==0){const H=De.value.map(M=>w("option",{value:M,selected:!0}));g.push(w("select",{class:"hidden",name:ne.value,multiple:e.multiple},H))}const _=e.useInput===!0||f!==!0?void 0:h.splitAttrs.attributes.value;return w("div",{class:"q-field__native row items-center",..._,...h.splitAttrs.listeners.value},g)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[w(Le,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:$e.value})]:null}),Wt(h)}});function Tn(e,n){const l=T(null),o=S(()=>e.disable===!0?null:w("span",{ref:l,class:"no-outline",tabindex:-1}));function u(i){const a=n.value;i!==void 0&&i.type.indexOf("key")===0?a!==null&&document.activeElement!==a&&a.contains(document.activeElement)===!0&&a.focus():l.value!==null&&(i===void 0||a!==null&&a.contains(i.target)===!0)&&l.value.focus()}return{refocusTargetEl:o,refocusTarget:u}}var On={xs:30,sm:35,md:40,lg:50,xl:60};const zn={...vt,...Qt,...Nt,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},In=["update:modelValue"];function Fn(e,n){const{props:l,slots:o,emit:u,proxy:i}=fe(),{$q:a}=i,v=mt(l,a),d=T(null),{refocusTargetEl:b,refocusTarget:s}=Tn(l,d),x=Ut(l,On),p=S(()=>l.val!==void 0&&Array.isArray(l.modelValue)),r=S(()=>{const B=Be(l.val);return p.value===!0?l.modelValue.findIndex(K=>Be(K)===B):-1}),A=S(()=>p.value===!0?r.value>-1:Be(l.modelValue)===Be(l.trueValue)),O=S(()=>p.value===!0?r.value===-1:Be(l.modelValue)===Be(l.falseValue)),E=S(()=>A.value===!1&&O.value===!1),W=S(()=>l.disable===!0?-1:l.tabindex||0),L=S(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(v.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),N=S(()=>{const B=A.value===!0?"truthy":O.value===!0?"falsy":"indet",K=l.color!==void 0&&(l.keepColor===!0||(e==="toggle"?A.value===!0:O.value!==!0))?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${B}${K}`}),I=S(()=>{const B={type:"checkbox"};return l.name!==void 0&&Object.assign(B,{".checked":A.value,"^checked":A.value===!0?"checked":void 0,name:l.name,value:p.value===!0?l.val:l.trueValue}),B}),F=Tl(I),U=S(()=>{const B={tabindex:W.value,role:e==="toggle"?"switch":"checkbox","aria-label":l.label,"aria-checked":E.value===!0?"mixed":A.value===!0?"true":"false"};return l.disable===!0&&(B["aria-disabled"]="true"),B});function P(B){B!==void 0&&(ce(B),s(B)),l.disable!==!0&&u("update:modelValue",le(),B)}function le(){if(p.value===!0){if(A.value===!0){const B=l.modelValue.slice();return B.splice(r.value,1),B}return l.modelValue.concat([l.val])}if(A.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(O.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function ne(B){(B.keyCode===13||B.keyCode===32)&&ce(B)}function G(B){(B.keyCode===13||B.keyCode===32)&&P(B)}const D=n(A,E);return Object.assign(i,{toggle:P}),()=>{const B=D();l.disable!==!0&&F(B,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const K=[w("div",{class:N.value,style:x.value,"aria-hidden":"true"},B)];b.value!==null&&K.push(b.value);const Z=l.label!==void 0?Yt(o.default,[l.label]):Ye(o.default);return Z!==void 0&&K.push(w("div",{class:`q-${e}__label q-anchor--skip`},Z)),w("div",{ref:d,class:L.value,...U.value,onClick:P,onKeydown:ne,onKeyup:G},K)}}const Hn=w("div",{key:"svg",class:"q-checkbox__bg absolute"},[w("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[w("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),w("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Qn=we({name:"QCheckbox",props:zn,emits:In,setup(e){function n(l,o){const u=S(()=>(l.value===!0?e.checkedIcon:o.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>u.value!==null?[w("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[w(Le,{class:"q-checkbox__icon",name:u.value})])]:[Hn]}return Fn("checkbox",n)}});export{Vn as Q,dn as a,Cn as b,Tn as c,zn as d,In as e,Fn as f,Qn as g,Wn as h,Kn as i,Nn as j,En as k,An as l,jn as m,On as o,cn as u};
